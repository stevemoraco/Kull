{"result":[{"scriptId":"1088","url":"file:///home/user/Kull/client/src/setupTests.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":679,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":679,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1260","url":"file:///home/user/Kull/server/ai/providers/__tests__/GoogleAdapter.test.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":83368,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":83368,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":587,"endOffset":27894,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":662,"endOffset":900,"count":26}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":937,"endOffset":996,"count":26}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1053,"endOffset":1921,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1129,"endOffset":1220,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1287,"endOffset":1372,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1449,"endOffset":1634,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1712,"endOffset":1915,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1976,"endOffset":5160,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2073,"endOffset":3045,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3136,"endOffset":3989,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4060,"endOffset":4489,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4586,"endOffset":5154,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5216,"endOffset":11289,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5298,"endOffset":6437,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":5556,"endOffset":5771,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6524,"endOffset":7566,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":6765,"endOffset":6975,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7648,"endOffset":8812,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":8028,"endOffset":8305,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8885,"endOffset":9305,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":9115,"endOffset":9142,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9383,"endOffset":10246,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9447,"endOffset":9525,"count":1200}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":9709,"endOffset":9928,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10326,"endOffset":11283,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":10552,"endOffset":10756,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11350,"endOffset":15199,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11425,"endOffset":12446,"count":1},{"startOffset":11978,"endOffset":12440,"count":6}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":12061,"endOffset":12261,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12515,"endOffset":12840,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":12626,"endOffset":12653,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12907,"endOffset":13624,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":12996,"endOffset":13329,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13703,"endOffset":14299,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":13792,"endOffset":14060,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14371,"endOffset":15193,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":14872,"endOffset":14895,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15262,"endOffset":25993,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15341,"endOffset":15797,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":15430,"endOffset":15628,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15871,"endOffset":16416,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":15960,"endOffset":16255,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":16489,"endOffset":21043,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":16578,"endOffset":20516,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":21115,"endOffset":23497,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":22741,"endOffset":23170,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":23579,"endOffset":25127,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":24427,"endOffset":24856,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":25192,"endOffset":25987,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":25281,"endOffset":25681,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":25769,"endOffset":25796,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":26053,"endOffset":27890,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":26145,"endOffset":27884,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":26699,"endOffset":26940,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1262","url":"file:///home/user/Kull/server/ai/providers/GoogleAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":49184,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":49184,"count":1}],"isBlockCoverage":true},{"functionName":"GoogleAdapter","ranges":[{"startOffset":567,"endOffset":840,"count":26}],"isBlockCoverage":true},{"functionName":"processSingleImage","ranges":[{"startOffset":843,"endOffset":1183,"count":0}],"isBlockCoverage":false},{"functionName":"callGeminiAPI","ranges":[{"startOffset":1186,"endOffset":3741,"count":0}],"isBlockCoverage":false},{"functionName":"submitBatch","ranges":[{"startOffset":3744,"endOffset":6072,"count":7},{"startOffset":5324,"endOffset":5474,"count":1},{"startOffset":5474,"endOffset":5582,"count":6},{"startOffset":5582,"endOffset":5607,"count":1},{"startOffset":5609,"endOffset":5701,"count":1},{"startOffset":5701,"endOffset":5789,"count":5},{"startOffset":5789,"endOffset":6071,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3872,"endOffset":4869,"count":1210}],"isBlockCoverage":true},{"functionName":"mapGoogleJobState","ranges":[{"startOffset":6136,"endOffset":6467,"count":21},{"startOffset":6451,"endOffset":6462,"count":0}],"isBlockCoverage":true},{"functionName":"checkBatchStatus","ranges":[{"startOffset":6470,"endOffset":7716,"count":16},{"startOffset":6712,"endOffset":6846,"count":1},{"startOffset":6846,"endOffset":6940,"count":15},{"startOffset":6940,"endOffset":6954,"count":7},{"startOffset":6955,"endOffset":6961,"count":8},{"startOffset":7019,"endOffset":7043,"count":7},{"startOffset":7044,"endOffset":7050,"count":9},{"startOffset":7104,"endOffset":7124,"count":7},{"startOffset":7125,"endOffset":7131,"count":10},{"startOffset":7457,"endOffset":7484,"count":0},{"startOffset":7485,"endOffset":7528,"count":15},{"startOffset":7589,"endOffset":7662,"count":1},{"startOffset":7634,"endOffset":7655,"count":0},{"startOffset":7662,"endOffset":7715,"count":15}],"isBlockCoverage":true},{"functionName":"retrieveBatchResults","ranges":[{"startOffset":7719,"endOffset":8423,"count":6},{"startOffset":7849,"endOffset":7967,"count":1},{"startOffset":7967,"endOffset":8023,"count":5},{"startOffset":8023,"endOffset":8090,"count":0},{"startOffset":8090,"endOffset":8129,"count":5},{"startOffset":8129,"endOffset":8147,"count":3},{"startOffset":8149,"endOffset":8244,"count":3},{"startOffset":8244,"endOffset":8280,"count":2},{"startOffset":8282,"endOffset":8422,"count":1}],"isBlockCoverage":true},{"functionName":"parseInlineResponses","ranges":[{"startOffset":8472,"endOffset":9504,"count":3},{"startOffset":8578,"endOffset":9480,"count":6},{"startOffset":8616,"endOffset":8710,"count":1},{"startOffset":8710,"endOffset":8816,"count":5},{"startOffset":8818,"endOffset":8934,"count":0},{"startOffset":8934,"endOffset":9091,"count":5},{"startOffset":9092,"endOffset":9097,"count":0},{"startOffset":9367,"endOffset":9474,"count":0}],"isBlockCoverage":true},{"functionName":"parseFileResponses","ranges":[{"startOffset":9557,"endOffset":11148,"count":1},{"startOffset":9994,"endOffset":11147,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10117,"endOffset":10138,"count":0}],"isBlockCoverage":false},{"functionName":"getCostPerImage","ranges":[{"startOffset":11151,"endOffset":11336,"count":3}],"isBlockCoverage":true},{"functionName":"getBatchCostPerImage","ranges":[{"startOffset":11339,"endOffset":11408,"count":1}],"isBlockCoverage":true},{"functionName":"getProviderName","ranges":[{"startOffset":11411,"endOffset":11455,"count":1}],"isBlockCoverage":true},{"functionName":"supportsBatch","ranges":[{"startOffset":11458,"endOffset":11496,"count":1}],"isBlockCoverage":true},{"functionName":"getResponseSchema","ranges":[{"startOffset":11574,"endOffset":14496,"count":11}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":14600,"endOffset":14629,"count":26}],"isBlockCoverage":true}]},{"scriptId":"1263","url":"file:///home/user/Kull/server/config/environment.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13656,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":13656,"count":1},{"startOffset":4324,"endOffset":4346,"count":0},{"startOffset":4348,"endOffset":4388,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":312,"endOffset":487,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":608,"endOffset":635,"count":0}],"isBlockCoverage":false},{"functionName":"loadEnvironmentConfig","ranges":[{"startOffset":639,"endOffset":2069,"count":1},{"startOffset":709,"endOffset":725,"count":0},{"startOffset":930,"endOffset":935,"count":0},{"startOffset":1209,"endOffset":1214,"count":0},{"startOffset":1378,"endOffset":1383,"count":0},{"startOffset":1518,"endOffset":1523,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":2179,"endOffset":2216,"count":0}],"isBlockCoverage":false},{"functionName":"getClientBaseURL","ranges":[{"startOffset":2220,"endOffset":2563,"count":1},{"startOffset":2274,"endOffset":2405,"count":0},{"startOffset":2410,"endOffset":2482,"count":0},{"startOffset":2487,"endOffset":2557,"count":0}],"isBlockCoverage":true},{"functionName":"getClientWSURL","ranges":[{"startOffset":2564,"endOffset":2897,"count":1},{"startOffset":2616,"endOffset":2743,"count":0},{"startOffset":2748,"endOffset":2818,"count":0},{"startOffset":2823,"endOffset":2891,"count":0}],"isBlockCoverage":true},{"functionName":"validateEnvironmentConfig","ranges":[{"startOffset":2898,"endOffset":3969,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4083,"endOffset":4124,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4262,"endOffset":4284,"count":52}],"isBlockCoverage":true}]},{"scriptId":"1268","url":"file:///home/user/Kull/server/ai/BaseProviderAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":29667,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":29667,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":441,"endOffset":477,"count":0}],"isBlockCoverage":false},{"functionName":"retryWithBackoff","ranges":[{"startOffset":620,"endOffset":1814,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1860,"endOffset":1937,"count":0}],"isBlockCoverage":false},{"functionName":"imageToBase64","ranges":[{"startOffset":1998,"endOffset":2066,"count":1210}],"isBlockCoverage":true},{"functionName":"getMimeType","ranges":[{"startOffset":2117,"endOffset":2328,"count":1210},{"startOffset":2308,"endOffset":2323,"count":0}],"isBlockCoverage":true},{"functionName":"calculateUserCharge","ranges":[{"startOffset":2389,"endOffset":2463,"count":0}],"isBlockCoverage":false},{"functionName":"validateRating","ranges":[{"startOffset":2518,"endOffset":5415,"count":5},{"startOffset":2586,"endOffset":2591,"count":0},{"startOffset":2625,"endOffset":2630,"count":0},{"startOffset":2858,"endOffset":2863,"count":3},{"startOffset":2903,"endOffset":2908,"count":0},{"startOffset":3834,"endOffset":3883,"count":3},{"startOffset":3884,"endOffset":3892,"count":2},{"startOffset":3957,"endOffset":4005,"count":3},{"startOffset":4006,"endOffset":4014,"count":2},{"startOffset":4085,"endOffset":4136,"count":3},{"startOffset":4137,"endOffset":4145,"count":2},{"startOffset":4218,"endOffset":4270,"count":3},{"startOffset":4271,"endOffset":4279,"count":2},{"startOffset":4377,"endOffset":4389,"count":0},{"startOffset":4564,"endOffset":4571,"count":0},{"startOffset":4628,"endOffset":4636,"count":3}],"isBlockCoverage":true},{"functionName":"clampStarRating","ranges":[{"startOffset":5418,"endOffset":5618,"count":5},{"startOffset":5511,"endOffset":5514,"count":0}],"isBlockCoverage":true},{"functionName":"validateColorLabel","ranges":[{"startOffset":5621,"endOffset":5775,"count":5},{"startOffset":5762,"endOffset":5770,"count":0}],"isBlockCoverage":true},{"functionName":"validateKeepReject","ranges":[{"startOffset":5778,"endOffset":6048,"count":5},{"startOffset":5909,"endOffset":5951,"count":0},{"startOffset":5973,"endOffset":6047,"count":0}],"isBlockCoverage":true},{"functionName":"clamp01","ranges":[{"startOffset":6051,"endOffset":6176,"count":12},{"startOffset":6119,"endOffset":6130,"count":0}],"isBlockCoverage":true},{"functionName":"clamp1to1000","ranges":[{"startOffset":6179,"endOffset":6323,"count":80},{"startOffset":6252,"endOffset":6263,"count":48},{"startOffset":6263,"endOffset":6322,"count":32}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":6433,"endOffset":6468,"count":1}],"isBlockCoverage":true}]}]}