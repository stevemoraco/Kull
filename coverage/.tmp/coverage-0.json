{"result":[{"scriptId":"1085","url":"file:///home/runner/workspace/client/src/setupTests.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":691,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":691,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1261","url":"file:///home/runner/workspace/server/ai/providers/__tests__/OpenAIAdapter.test.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":112115,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":112115,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":403,"endOffset":726,"count":1}],"isBlockCoverage":true},{"functionName":"MockFormData","ranges":[{"startOffset":449,"endOffset":517,"count":17}],"isBlockCoverage":true},{"functionName":"append","ranges":[{"startOffset":522,"endOffset":607,"count":34}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":612,"endOffset":663,"count":0}],"isBlockCoverage":false},{"functionName":"has","ranges":[{"startOffset":668,"endOffset":719,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":769,"endOffset":909,"count":1}],"isBlockCoverage":true},{"functionName":"MockBlob","ranges":[{"startOffset":807,"endOffset":856,"count":17}],"isBlockCoverage":true},{"functionName":"getData","ranges":[{"startOffset":861,"endOffset":902,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1136,"endOffset":35957,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1308,"endOffset":1397,"count":38}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1434,"endOffset":1491,"count":38}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1556,"endOffset":9332,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1639,"endOffset":2547,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":1876,"endOffset":1911,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":1994,"endOffset":2132,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2623,"endOffset":3182,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":2831,"endOffset":2864,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":2947,"endOffset":3003,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3257,"endOffset":4014,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":3510,"endOffset":3542,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":3625,"endOffset":3681,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4101,"endOffset":4632,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":4330,"endOffset":4363,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":4446,"endOffset":4502,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4700,"endOffset":5098,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":4930,"endOffset":4963,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5169,"endOffset":5784,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5392,"endOffset":5523,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":5471,"endOffset":5504,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":5598,"endOffset":5654,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5878,"endOffset":6464,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":6086,"endOffset":6119,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":6202,"endOffset":6258,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6545,"endOffset":6848,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6921,"endOffset":7504,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":7129,"endOffset":7162,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":7245,"endOffset":7301,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7573,"endOffset":8252,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":7935,"endOffset":7969,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":8052,"endOffset":8109,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8316,"endOffset":8716,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":8546,"endOffset":8581,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8787,"endOffset":9326,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":9017,"endOffset":9050,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":9133,"endOffset":9189,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9405,"endOffset":11686,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9498,"endOffset":11680,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":9730,"endOffset":11248,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11752,"endOffset":13532,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11842,"endOffset":12352,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":12050,"endOffset":12083,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":12166,"endOffset":12222,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12436,"endOffset":12946,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":12644,"endOffset":12677,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":12760,"endOffset":12816,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13016,"endOffset":13526,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":13224,"endOffset":13257,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":13340,"endOffset":13396,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13592,"endOffset":14779,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13672,"endOffset":14313,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":13880,"endOffset":13913,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":13996,"endOffset":14052,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14389,"endOffset":14773,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":14597,"endOffset":14623,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14835,"endOffset":17810,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14932,"endOffset":15559,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":15018,"endOffset":15209,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15656,"endOffset":16156,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":15742,"endOffset":15935,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":16237,"endOffset":16802,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":16323,"endOffset":16515,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":16880,"endOffset":17302,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":16966,"endOffset":17154,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":17382,"endOffset":17804,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":17468,"endOffset":17656,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":17870,"endOffset":28207,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":17977,"endOffset":20419,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":18154,"endOffset":18272,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":18355,"endOffset":19774,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":20495,"endOffset":23963,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":20581,"endOffset":20701,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":23657,"endOffset":23681,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":24040,"endOffset":24382,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":24126,"endOffset":24242,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":24457,"endOffset":24795,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":24543,"endOffset":24657,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":24873,"endOffset":27028,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":24959,"endOffset":25079,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":26789,"endOffset":26813,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":27110,"endOffset":27643,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":27196,"endOffset":27316,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":27471,"endOffset":27495,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":27715,"endOffset":28201,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":27801,"endOffset":27921,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":28026,"endOffset":28054,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":28269,"endOffset":30388,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":28363,"endOffset":28556,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":28634,"endOffset":28843,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":28930,"endOffset":29146,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":29234,"endOffset":29469,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":29547,"endOffset":29788,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":29849,"endOffset":29973,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":30052,"endOffset":30382,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":30461,"endOffset":35953,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":30560,"endOffset":35947,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":30809,"endOffset":30849,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":30932,"endOffset":31075,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":31348,"endOffset":31546,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":31841,"endOffset":32078,"count":1}],"isBlockCoverage":true},{"functionName":"json","ranges":[{"startOffset":32322,"endOffset":32453,"count":1}],"isBlockCoverage":true},{"functionName":"text","ranges":[{"startOffset":32536,"endOffset":35569,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1263","url":"file:///home/runner/workspace/server/ai/providers/OpenAIAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":55701,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":55701,"count":1}],"isBlockCoverage":true},{"functionName":"OpenAIAdapter","ranges":[{"startOffset":567,"endOffset":913,"count":38}],"isBlockCoverage":true},{"functionName":"processSingleImage","ranges":[{"startOffset":916,"endOffset":1256,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1033,"endOffset":1100,"count":1}],"isBlockCoverage":true},{"functionName":"callOpenAIAPI","ranges":[{"startOffset":1259,"endOffset":7403,"count":1},{"startOffset":6107,"endOffset":6318,"count":0},{"startOffset":6341,"endOffset":6463,"count":0},{"startOffset":6579,"endOffset":6642,"count":0},{"startOffset":6851,"endOffset":6856,"count":0},{"startOffset":6902,"endOffset":6906,"count":0},{"startOffset":6957,"endOffset":6961,"count":0}],"isBlockCoverage":true},{"functionName":"submitBatch","ranges":[{"startOffset":7406,"endOffset":13469,"count":17},{"startOffset":12273,"endOffset":12418,"count":2},{"startOffset":12418,"endOffset":12528,"count":15},{"startOffset":12528,"endOffset":12603,"count":1},{"startOffset":12603,"endOffset":12996,"count":14},{"startOffset":12996,"endOffset":13134,"count":0},{"startOffset":13134,"endOffset":13468,"count":14}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10514,"endOffset":11605,"count":22}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11651,"endOffset":11675,"count":22}],"isBlockCoverage":true},{"functionName":"checkBatchStatus","ranges":[{"startOffset":13472,"endOffset":14196,"count":7},{"startOffset":14012,"endOffset":14023,"count":0},{"startOffset":14071,"endOffset":14075,"count":0},{"startOffset":14131,"endOffset":14135,"count":2}],"isBlockCoverage":true},{"functionName":"retrieveBatchResults","ranges":[{"startOffset":14199,"endOffset":15898,"count":8},{"startOffset":14420,"endOffset":14560,"count":0},{"startOffset":14653,"endOffset":14727,"count":1},{"startOffset":14727,"endOffset":14763,"count":7},{"startOffset":14763,"endOffset":14833,"count":1},{"startOffset":14833,"endOffset":15042,"count":6},{"startOffset":15042,"endOffset":15182,"count":1},{"startOffset":15182,"endOffset":15366,"count":5},{"startOffset":15366,"endOffset":15874,"count":9},{"startOffset":15447,"endOffset":15556,"count":1},{"startOffset":15556,"endOffset":15584,"count":7},{"startOffset":15584,"endOffset":15622,"count":6},{"startOffset":15624,"endOffset":15782,"count":6},{"startOffset":15791,"endOffset":15868,"count":1},{"startOffset":15874,"endOffset":15897,"count":5}],"isBlockCoverage":true},{"functionName":"getCostPerImage","ranges":[{"startOffset":15901,"endOffset":16085,"count":2}],"isBlockCoverage":true},{"functionName":"getBatchCostPerImage","ranges":[{"startOffset":16160,"endOffset":16361,"count":2}],"isBlockCoverage":true},{"functionName":"calculateActualCost","ranges":[{"startOffset":16603,"endOffset":17025,"count":5},{"startOffset":16704,"endOffset":16734,"count":1},{"startOffset":16735,"endOffset":16759,"count":4},{"startOffset":16797,"endOffset":16828,"count":1},{"startOffset":16829,"endOffset":16854,"count":4}],"isBlockCoverage":true},{"functionName":"getProviderName","ranges":[{"startOffset":17028,"endOffset":17072,"count":0}],"isBlockCoverage":false},{"functionName":"supportsBatch","ranges":[{"startOffset":17075,"endOffset":17113,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":17217,"endOffset":17246,"count":38}],"isBlockCoverage":true}]},{"scriptId":"1264","url":"file:///home/runner/workspace/server/config/environment.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13292,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":13292,"count":1},{"startOffset":4240,"endOffset":4262,"count":0},{"startOffset":4264,"endOffset":4304,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":312,"endOffset":487,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":608,"endOffset":635,"count":0}],"isBlockCoverage":false},{"functionName":"loadEnvironmentConfig","ranges":[{"startOffset":639,"endOffset":1985,"count":1},{"startOffset":709,"endOffset":725,"count":0},{"startOffset":814,"endOffset":823,"count":0},{"startOffset":930,"endOffset":935,"count":0},{"startOffset":1209,"endOffset":1214,"count":0},{"startOffset":1378,"endOffset":1383,"count":0},{"startOffset":1518,"endOffset":1523,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":2095,"endOffset":2132,"count":0}],"isBlockCoverage":false},{"functionName":"getClientBaseURL","ranges":[{"startOffset":2136,"endOffset":2479,"count":1},{"startOffset":2190,"endOffset":2321,"count":0},{"startOffset":2326,"endOffset":2398,"count":0},{"startOffset":2403,"endOffset":2473,"count":0}],"isBlockCoverage":true},{"functionName":"getClientWSURL","ranges":[{"startOffset":2480,"endOffset":2813,"count":1},{"startOffset":2532,"endOffset":2659,"count":0},{"startOffset":2664,"endOffset":2734,"count":0},{"startOffset":2739,"endOffset":2807,"count":0}],"isBlockCoverage":true},{"functionName":"validateEnvironmentConfig","ranges":[{"startOffset":2814,"endOffset":3885,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":3999,"endOffset":4040,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4178,"endOffset":4200,"count":76}],"isBlockCoverage":true}]},{"scriptId":"1270","url":"file:///home/runner/workspace/server/ai/BaseProviderAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":29667,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":29667,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":441,"endOffset":477,"count":0}],"isBlockCoverage":false},{"functionName":"retryWithBackoff","ranges":[{"startOffset":620,"endOffset":1814,"count":1},{"startOffset":860,"endOffset":1804,"count":0}],"isBlockCoverage":true},{"functionName":"sleep","ranges":[{"startOffset":1860,"endOffset":1937,"count":0}],"isBlockCoverage":false},{"functionName":"imageToBase64","ranges":[{"startOffset":1998,"endOffset":2066,"count":23}],"isBlockCoverage":true},{"functionName":"getMimeType","ranges":[{"startOffset":2117,"endOffset":2328,"count":23},{"startOffset":2308,"endOffset":2323,"count":0}],"isBlockCoverage":true},{"functionName":"calculateUserCharge","ranges":[{"startOffset":2389,"endOffset":2463,"count":1}],"isBlockCoverage":true},{"functionName":"validateRating","ranges":[{"startOffset":2518,"endOffset":5415,"count":7},{"startOffset":2586,"endOffset":2591,"count":6},{"startOffset":2625,"endOffset":2630,"count":6},{"startOffset":2858,"endOffset":2863,"count":0},{"startOffset":2903,"endOffset":2908,"count":0},{"startOffset":3834,"endOffset":3883,"count":1},{"startOffset":3884,"endOffset":3892,"count":6},{"startOffset":3957,"endOffset":4005,"count":1},{"startOffset":4006,"endOffset":4014,"count":6},{"startOffset":4085,"endOffset":4136,"count":1},{"startOffset":4137,"endOffset":4145,"count":6},{"startOffset":4218,"endOffset":4270,"count":1},{"startOffset":4271,"endOffset":4279,"count":6},{"startOffset":4377,"endOffset":4389,"count":0},{"startOffset":4564,"endOffset":4571,"count":0},{"startOffset":4628,"endOffset":4636,"count":0}],"isBlockCoverage":true},{"functionName":"clampStarRating","ranges":[{"startOffset":5418,"endOffset":5618,"count":7},{"startOffset":5511,"endOffset":5514,"count":0}],"isBlockCoverage":true},{"functionName":"validateColorLabel","ranges":[{"startOffset":5621,"endOffset":5775,"count":7},{"startOffset":5762,"endOffset":5770,"count":0}],"isBlockCoverage":true},{"functionName":"validateKeepReject","ranges":[{"startOffset":5778,"endOffset":6048,"count":7},{"startOffset":5909,"endOffset":5951,"count":0},{"startOffset":5973,"endOffset":6047,"count":0}],"isBlockCoverage":true},{"functionName":"clamp01","ranges":[{"startOffset":6051,"endOffset":6176,"count":4},{"startOffset":6119,"endOffset":6130,"count":0}],"isBlockCoverage":true},{"functionName":"clamp1to1000","ranges":[{"startOffset":6179,"endOffset":6323,"count":112},{"startOffset":6252,"endOffset":6263,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":6433,"endOffset":6468,"count":1}],"isBlockCoverage":true}]}]}