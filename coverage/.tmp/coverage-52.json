{"result":[{"scriptId":"1088","url":"file:///home/user/Kull/client/src/setupTests.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":679,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":679,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1260","url":"file:///home/user/Kull/tests/unit/batchOrchestrator.service.test.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13665,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":13665,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":412,"endOffset":467,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":533,"endOffset":668,"count":1}],"isBlockCoverage":true},{"functionName":"createStorageStub","ranges":[{"startOffset":921,"endOffset":1311,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1370,"endOffset":4575,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1413,"endOffset":1452,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1489,"endOffset":1546,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1635,"endOffset":2787,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2866,"endOffset":3672,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3768,"endOffset":4571,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4512,"endOffset":4553,"count":3}],"isBlockCoverage":true}]},{"scriptId":"1262","url":"file:///home/user/Kull/server/services/batchOrchestrator.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":19526,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":19526,"count":1}],"isBlockCoverage":true},{"functionName":"openai-gpt-5","ranges":[{"startOffset":755,"endOffset":1671,"count":2},{"startOffset":841,"endOffset":870,"count":0},{"startOffset":889,"endOffset":945,"count":0},{"startOffset":979,"endOffset":989,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1031,"endOffset":1053,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1176,"endOffset":1191,"count":2}],"isBlockCoverage":true},{"functionName":"toPayload","ranges":[{"startOffset":1211,"endOffset":1392,"count":2},{"startOffset":1291,"endOffset":1360,"count":0}],"isBlockCoverage":true},{"functionName":"submit","ranges":[{"startOffset":1422,"endOffset":1570,"count":2}],"isBlockCoverage":true},{"functionName":"registerProviderExecutor","ranges":[{"startOffset":1675,"endOffset":1762,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":1875,"endOffset":1915,"count":0}],"isBlockCoverage":false},{"functionName":"removeProviderExecutor","ranges":[{"startOffset":1919,"endOffset":1990,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":2101,"endOffset":2139,"count":0}],"isBlockCoverage":false},{"functionName":"ensureProviderOrder","ranges":[{"startOffset":2171,"endOffset":2926,"count":3},{"startOffset":2317,"endOffset":2325,"count":2},{"startOffset":2537,"endOffset":2545,"count":2},{"startOffset":2547,"endOffset":2687,"count":2},{"startOffset":2623,"endOffset":2683,"count":0},{"startOffset":2687,"endOffset":2749,"count":1},{"startOffset":2774,"endOffset":2814,"count":1},{"startOffset":2816,"endOffset":2908,"count":0}],"isBlockCoverage":true},{"functionName":"pushUnique","ranges":[{"startOffset":2349,"endOffset":2430,"count":5},{"startOffset":2381,"endOffset":2388,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2504,"endOffset":2515,"count":9}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2575,"endOffset":2597,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2653,"endOffset":2675,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2721,"endOffset":2743,"count":3}],"isBlockCoverage":true},{"functionName":"runOrchestratedCulling","ranges":[{"startOffset":2928,"endOffset":5786,"count":3},{"startOffset":3010,"endOffset":3058,"count":0},{"startOffset":3335,"endOffset":5582,"count":5},{"startOffset":3424,"endOffset":3584,"count":0},{"startOffset":3656,"endOffset":3820,"count":2},{"startOffset":3820,"endOffset":4028,"count":3},{"startOffset":4030,"endOffset":4213,"count":1},{"startOffset":4213,"endOffset":4390,"count":2},{"startOffset":4400,"endOffset":4453,"count":2},{"startOffset":4455,"endOffset":4647,"count":0},{"startOffset":4647,"endOffset":5301,"count":2},{"startOffset":5302,"endOffset":5305,"count":0},{"startOffset":5339,"endOffset":5578,"count":0},{"startOffset":5582,"endOffset":5782,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5616,"endOffset":5656,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5662,"endOffset":5717,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5897,"endOffset":5935,"count":3}],"isBlockCoverage":true}]},{"scriptId":"1263","url":"file:///home/user/Kull/shared/culling/providers.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":11995,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":11995,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":432,"endOffset":457,"count":0}],"isBlockCoverage":false},{"functionName":"registerProvider","ranges":[{"startOffset":530,"endOffset":807,"count":3},{"startOffset":693,"endOffset":741,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":635,"endOffset":664,"count":3}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":913,"endOffset":945,"count":0}],"isBlockCoverage":false},{"functionName":"listProviders","ranges":[{"startOffset":3128,"endOffset":3148,"count":3}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":3251,"endOffset":3280,"count":3}],"isBlockCoverage":true},{"functionName":"getProvider","ranges":[{"startOffset":3304,"endOffset":3460,"count":10},{"startOffset":3408,"endOffset":3422,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":3561,"endOffset":3588,"count":10}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":3736,"endOffset":3769,"count":0}],"isBlockCoverage":false},{"functionName":"resetProviderRegistry","ranges":[{"startOffset":3803,"endOffset":3916,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4027,"endOffset":4064,"count":0}],"isBlockCoverage":false}]},{"scriptId":"1264","url":"file:///home/user/Kull/shared/culling/schemas.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":28321,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":28321,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":715,"endOffset":747,"count":10}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":1000,"endOffset":1032,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":1219,"endOffset":1251,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":1715,"endOffset":1756,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":2574,"endOffset":2613,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4393,"endOffset":4428,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5010,"endOffset":5054,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5877,"endOffset":5910,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6928,"endOffset":6962,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":7735,"endOffset":7774,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":8722,"endOffset":8752,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":9170,"endOffset":9208,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":9974,"endOffset":10007,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":10520,"endOffset":10556,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":10863,"endOffset":10906,"count":0}],"isBlockCoverage":false}]},{"scriptId":"1275","url":"file:///home/user/Kull/shared/utils/cost.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2704,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":2704,"count":1}],"isBlockCoverage":true},{"functionName":"estimateCostForImages","ranges":[{"startOffset":356,"endOffset":566,"count":3},{"startOffset":469,"endOffset":478,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":677,"endOffset":714,"count":3}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":886,"endOffset":926,"count":0}],"isBlockCoverage":false},{"functionName":"sortProvidersByCost","ranges":[{"startOffset":958,"endOffset":1085,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1018,"endOffset":1083,"count":12}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":1194,"endOffset":1229,"count":3}],"isBlockCoverage":true}]},{"scriptId":"1276","url":"file:///home/user/Kull/server/orchestrator.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10308,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":10308,"count":1}],"isBlockCoverage":true},{"functionName":"runBatches","ranges":[{"startOffset":432,"endOffset":2976,"count":2},{"startOffset":554,"endOffset":590,"count":0},{"startOffset":812,"endOffset":816,"count":0},{"startOffset":2900,"endOffset":2922,"count":10}],"isBlockCoverage":true},{"functionName":"runOne","ranges":[{"startOffset":904,"endOffset":2718,"count":2},{"startOffset":1334,"endOffset":1338,"count":0},{"startOffset":2040,"endOffset":2043,"count":0},{"startOffset":2079,"endOffset":2174,"count":0},{"startOffset":2437,"endOffset":2717,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2406,"endOffset":2435,"count":0}],"isBlockCoverage":false},{"functionName":"pump","ranges":[{"startOffset":2735,"endOffset":2858,"count":10},{"startOffset":2783,"endOffset":2854,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":3075,"endOffset":3101,"count":2}],"isBlockCoverage":true}]},{"scriptId":"1277","url":"file:///home/user/Kull/shared/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1587,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":1587,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1278","url":"file:///home/user/Kull/shared/culling/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1028,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":1028,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1279","url":"file:///home/user/Kull/shared/culling/plans.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2782,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":2782,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":554,"endOffset":575,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":722,"endOffset":753,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":1037,"endOffset":1075,"count":0}],"isBlockCoverage":false}]},{"scriptId":"1280","url":"file:///home/user/Kull/shared/utils/exif.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":23150,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":23150,"count":1}],"isBlockCoverage":true},{"functionName":"extractExif","ranges":[{"startOffset":314,"endOffset":3789,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":3889,"endOffset":3916,"count":0}],"isBlockCoverage":false},{"functionName":"formatExposureTime","ranges":[{"startOffset":3920,"endOffset":4053,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4160,"endOffset":4194,"count":0}],"isBlockCoverage":false},{"functionName":"formatAperture","ranges":[{"startOffset":4198,"endOffset":4270,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4373,"endOffset":4403,"count":0}],"isBlockCoverage":false},{"functionName":"createNullExifParser","ranges":[{"startOffset":4436,"endOffset":4565,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4675,"endOffset":4711,"count":0}],"isBlockCoverage":false},{"functionName":"buildMetadataFromExif","ranges":[{"startOffset":4745,"endOffset":5298,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5409,"endOffset":5446,"count":0}],"isBlockCoverage":false},{"functionName":"buildIptcMetadata","ranges":[{"startOffset":5476,"endOffset":5772,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":5879,"endOffset":5912,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeKeywords","ranges":[{"startOffset":5942,"endOffset":6147,"count":0}],"isBlockCoverage":false},{"functionName":"mergeExifAndIptc","ranges":[{"startOffset":6174,"endOffset":6475,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6581,"endOffset":6613,"count":0}],"isBlockCoverage":false},{"functionName":"collectContentTags","ranges":[{"startOffset":6644,"endOffset":7089,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":7197,"endOffset":7231,"count":0}],"isBlockCoverage":false}]},{"scriptId":"1282","url":"file:///home/user/Kull/shared/utils/xmp.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":25114,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":25114,"count":1}],"isBlockCoverage":true},{"functionName":"buildXmpFragment","ranges":[{"startOffset":1009,"endOffset":1518,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":1624,"endOffset":1656,"count":0}],"isBlockCoverage":false},{"functionName":"parseDocument","ranges":[{"startOffset":1682,"endOffset":1916,"count":0}],"isBlockCoverage":false},{"functionName":"ensureDescription","ranges":[{"startOffset":1944,"endOffset":2886,"count":0}],"isBlockCoverage":false},{"functionName":"ensureNamespace","ranges":[{"startOffset":2912,"endOffset":3036,"count":0}],"isBlockCoverage":false},{"functionName":"findDirectChild","ranges":[{"startOffset":3062,"endOffset":3256,"count":0}],"isBlockCoverage":false},{"functionName":"removeChildIfExists","ranges":[{"startOffset":3286,"endOffset":3394,"count":0}],"isBlockCoverage":false},{"functionName":"applyRating","ranges":[{"startOffset":3416,"endOffset":3674,"count":0}],"isBlockCoverage":false},{"functionName":"applyColorLabel","ranges":[{"startOffset":3902,"endOffset":4236,"count":0}],"isBlockCoverage":false},{"functionName":"applyAltText","ranges":[{"startOffset":4259,"endOffset":5030,"count":0}],"isBlockCoverage":false},{"functionName":"findLiWithLang","ranges":[{"startOffset":5055,"endOffset":5326,"count":0}],"isBlockCoverage":false},{"functionName":"setTextContent","ranges":[{"startOffset":5351,"endOffset":5509,"count":0}],"isBlockCoverage":false},{"functionName":"applyKeywords","ranges":[{"startOffset":5533,"endOffset":6257,"count":0}],"isBlockCoverage":false},{"functionName":"normaliseTags","ranges":[{"startOffset":6281,"endOffset":6580,"count":0}],"isBlockCoverage":false},{"functionName":"formatXml","ranges":[{"startOffset":6600,"endOffset":7397,"count":0}],"isBlockCoverage":false}]},{"scriptId":"1291","url":"file:///home/user/Kull/server/services/batchTelemetry.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14329,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":14329,"count":1}],"isBlockCoverage":true},{"functionName":"BatchTelemetryStore","ranges":[{"startOffset":481,"endOffset":573,"count":1}],"isBlockCoverage":true},{"functionName":"record","ranges":[{"startOffset":576,"endOffset":2198,"count":6},{"startOffset":624,"endOffset":861,"count":2},{"startOffset":868,"endOffset":1105,"count":2},{"startOffset":1112,"endOffset":1389,"count":2},{"startOffset":1396,"endOffset":1659,"count":0},{"startOffset":1666,"endOffset":2162,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2064,"endOffset":2128,"count":0}],"isBlockCoverage":false},{"functionName":"ensureProvider","ranges":[{"startOffset":2201,"endOffset":2489,"count":12},{"startOffset":2300,"endOffset":2464,"count":1}],"isBlockCoverage":true},{"functionName":"insertOrUpdate","ranges":[{"startOffset":2492,"endOffset":3436,"count":6},{"startOffset":2728,"endOffset":2767,"count":4},{"startOffset":2768,"endOffset":2776,"count":2},{"startOffset":2897,"endOffset":2921,"count":4},{"startOffset":2922,"endOffset":2926,"count":0},{"startOffset":2962,"endOffset":2984,"count":4},{"startOffset":2973,"endOffset":2984,"count":2},{"startOffset":3024,"endOffset":3048,"count":4},{"startOffset":3035,"endOffset":3048,"count":2},{"startOffset":3093,"endOffset":3103,"count":4},{"startOffset":3133,"endOffset":3152,"count":4},{"startOffset":3144,"endOffset":3152,"count":2},{"startOffset":3191,"endOffset":3198,"count":4},{"startOffset":3234,"endOffset":3295,"count":4},{"startOffset":3295,"endOffset":3354,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2642,"endOffset":2685,"count":5}],"isBlockCoverage":true},{"functionName":"snapshots","ranges":[{"startOffset":3439,"endOffset":3838,"count":0}],"isBlockCoverage":false},{"functionName":"reset","ranges":[{"startOffset":3841,"endOffset":3913,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4068,"endOffset":4098,"count":6}],"isBlockCoverage":true}]},{"scriptId":"1293","url":"file:///home/user/Kull/server/providers/openai.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":31777,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":31777,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":514,"endOffset":574,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":858,"endOffset":1059,"count":0}],"isBlockCoverage":false},{"functionName":"buildInstruction","ranges":[{"startOffset":1913,"endOffset":2693,"count":0}],"isBlockCoverage":false},{"functionName":"compactValue","ranges":[{"startOffset":2694,"endOffset":3230,"count":0}],"isBlockCoverage":false},{"functionName":"buildImageContext","ranges":[{"startOffset":3231,"endOffset":4632,"count":0}],"isBlockCoverage":false},{"functionName":"buildContents","ranges":[{"startOffset":4633,"endOffset":5202,"count":0}],"isBlockCoverage":false},{"functionName":"extractCandidates","ranges":[{"startOffset":5203,"endOffset":5823,"count":0}],"isBlockCoverage":false},{"functionName":"coerceRatings","ranges":[{"startOffset":5824,"endOffset":6475,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeRatings","ranges":[{"startOffset":6476,"endOffset":7217,"count":0}],"isBlockCoverage":false},{"functionName":"submitOpenAIBatch","ranges":[{"startOffset":7218,"endOffset":9051,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":9157,"endOffset":9190,"count":1}],"isBlockCoverage":true}]}]}