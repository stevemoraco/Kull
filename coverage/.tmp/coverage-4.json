{"result":[{"scriptId":"1088","url":"file:///home/user/Kull/client/src/setupTests.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":679,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":679,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1260","url":"file:///home/user/Kull/server/__tests__/chatService.streaming.test.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":58902,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":58902,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":396,"endOffset":509,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":477,"endOffset":501,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":558,"endOffset":639,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":700,"endOffset":748,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":807,"endOffset":915,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":976,"endOffset":1183,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1236,"endOffset":1317,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1381,"endOffset":1475,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1768,"endOffset":18848,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1811,"endOffset":1913,"count":13}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1950,"endOffset":2009,"count":13}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2083,"endOffset":10459,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2199,"endOffset":4520,"count":1},{"startOffset":3215,"endOffset":3725,"count":5},{"startOffset":3288,"endOffset":3294,"count":1},{"startOffset":3294,"endOffset":3415,"count":4},{"startOffset":3415,"endOffset":3717,"count":12},{"startOffset":3458,"endOffset":3707,"count":4},{"startOffset":3654,"endOffset":3681,"count":0},{"startOffset":3717,"endOffset":3725,"count":4}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":2803,"endOffset":2922,"count":1},{"startOffset":2874,"endOffset":2912,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3766,"endOffset":3803,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4178,"endOffset":4192,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4606,"endOffset":6364,"count":1},{"startOffset":5434,"endOffset":6147,"count":2},{"startOffset":5541,"endOffset":5668,"count":1},{"startOffset":5668,"endOffset":6139,"count":3},{"startOffset":5711,"endOffset":6129,"count":1},{"startOffset":5892,"endOffset":5913,"count":0},{"startOffset":5915,"endOffset":6059,"count":0},{"startOffset":6076,"endOffset":6103,"count":0},{"startOffset":6139,"endOffset":6147,"count":1}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":4985,"endOffset":5104,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6265,"endOffset":6356,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":6463,"endOffset":8601,"count":1},{"startOffset":7670,"endOffset":8271,"count":2},{"startOffset":7743,"endOffset":7870,"count":1},{"startOffset":7870,"endOffset":8263,"count":3},{"startOffset":7913,"endOffset":8253,"count":1},{"startOffset":8105,"endOffset":8183,"count":0},{"startOffset":8200,"endOffset":8227,"count":0},{"startOffset":8263,"endOffset":8271,"count":1}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":7256,"endOffset":7375,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8678,"endOffset":9334,"count":1},{"startOffset":9328,"endOffset":9333,"count":0}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":8768,"endOffset":8930,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9179,"endOffset":9308,"count":1},{"startOffset":9214,"endOffset":9300,"count":2},{"startOffset":9284,"endOffset":9290,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9421,"endOffset":10453,"count":1}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":9825,"endOffset":9944,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10512,"endOffset":12338,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10578,"endOffset":11127,"count":1}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":10668,"endOffset":10786,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11188,"endOffset":11737,"count":1}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":11278,"endOffset":11396,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11793,"endOffset":12332,"count":1}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":11883,"endOffset":12001,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":12392,"endOffset":13570,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12483,"endOffset":13011,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13088,"endOffset":13564,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13651,"endOffset":18844,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13742,"endOffset":15808,"count":1},{"startOffset":14670,"endOffset":15350,"count":2},{"startOffset":14743,"endOffset":14870,"count":1},{"startOffset":14870,"endOffset":15342,"count":3},{"startOffset":14913,"endOffset":15332,"count":1},{"startOffset":15094,"endOffset":15115,"count":0},{"startOffset":15117,"endOffset":15262,"count":0},{"startOffset":15279,"endOffset":15306,"count":0},{"startOffset":15342,"endOffset":15350,"count":1}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":14119,"endOffset":14307,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":15910,"endOffset":17673,"count":1},{"startOffset":16819,"endOffset":17435,"count":2},{"startOffset":16892,"endOffset":17019,"count":1},{"startOffset":17019,"endOffset":17427,"count":3},{"startOffset":17062,"endOffset":17417,"count":1},{"startOffset":17243,"endOffset":17264,"count":0},{"startOffset":17266,"endOffset":17347,"count":0},{"startOffset":17364,"endOffset":17391,"count":0},{"startOffset":17427,"endOffset":17435,"count":1}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":16407,"endOffset":16526,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":17618,"endOffset":17653,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":17768,"endOffset":18838,"count":1},{"startOffset":18560,"endOffset":18765,"count":2},{"startOffset":18633,"endOffset":18757,"count":1}],"isBlockCoverage":true},{"functionName":"mockResponsesCreate.mockReturnValue","ranges":[{"startOffset":18147,"endOffset":18266,"count":0}],"isBlockCoverage":false}]},{"scriptId":"1262","url":"file:///home/user/Kull/server/chatService.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":165743,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":165743,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":1215,"endOffset":1267,"count":0}],"isBlockCoverage":false},{"functionName":"calculateCachedTokenSavings","ranges":[{"startOffset":1548,"endOffset":1903,"count":2},{"startOffset":1821,"endOffset":1855,"count":0}],"isBlockCoverage":true},{"functionName":"updatePromptCachingMetrics","ranges":[{"startOffset":1904,"endOffset":2913,"count":1},{"startOffset":2036,"endOffset":2040,"count":0},{"startOffset":2487,"endOffset":2544,"count":0},{"startOffset":2657,"endOffset":2710,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2798,"endOffset":2813,"count":1}],"isBlockCoverage":true},{"functionName":"getPromptCachingMetrics","ranges":[{"startOffset":2914,"endOffset":2990,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":3102,"endOffset":3141,"count":0}],"isBlockCoverage":false},{"functionName":"resetPromptCachingMetrics","ranges":[{"startOffset":3145,"endOffset":3718,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":3832,"endOffset":3873,"count":0}],"isBlockCoverage":false},{"functionName":"buildVisibleScriptSection","ranges":[{"startOffset":31856,"endOffset":34713,"count":12},{"startOffset":32041,"endOffset":32047,"count":0},{"startOffset":32224,"endOffset":32230,"count":0},{"startOffset":32256,"endOffset":32368,"count":11},{"startOffset":32368,"endOffset":32868,"count":1},{"startOffset":32868,"endOffset":33881,"count":0},{"startOffset":33881,"endOffset":34396,"count":1},{"startOffset":33911,"endOffset":34249,"count":0},{"startOffset":34396,"endOffset":34712,"count":1}],"isBlockCoverage":true},{"functionName":"getCurrentQuestion","ranges":[{"startOffset":32398,"endOffset":32607,"count":1},{"startOffset":32442,"endOffset":32459,"count":0},{"startOffset":32461,"endOffset":32566,"count":0}],"isBlockCoverage":true},{"functionName":"buildFullPromptMarkdown","ranges":[{"startOffset":34714,"endOffset":39129,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":39241,"endOffset":39280,"count":0}],"isBlockCoverage":false},{"functionName":"getChatResponseStream","ranges":[{"startOffset":39284,"endOffset":52549,"count":13},{"startOffset":39608,"endOffset":39751,"count":1},{"startOffset":39751,"endOffset":39992,"count":12},{"startOffset":40150,"endOffset":40218,"count":0},{"startOffset":40219,"endOffset":40261,"count":12},{"startOffset":42746,"endOffset":42767,"count":0},{"startOffset":42848,"endOffset":42873,"count":0},{"startOffset":42874,"endOffset":42878,"count":12},{"startOffset":42931,"endOffset":43115,"count":0},{"startOffset":43116,"endOffset":43171,"count":12},{"startOffset":43623,"endOffset":43684,"count":1},{"startOffset":43765,"endOffset":43839,"count":12},{"startOffset":43839,"endOffset":43905,"count":1},{"startOffset":44048,"endOffset":44597,"count":0},{"startOffset":44597,"endOffset":44656,"count":12},{"startOffset":44657,"endOffset":44742,"count":0},{"startOffset":44743,"endOffset":44751,"count":12},{"startOffset":44916,"endOffset":44995,"count":1},{"startOffset":45273,"endOffset":45399,"count":12},{"startOffset":45400,"endOffset":45404,"count":0},{"startOffset":45774,"endOffset":46297,"count":36},{"startOffset":45809,"endOffset":45960,"count":24},{"startOffset":45960,"endOffset":46291,"count":12},{"startOffset":46120,"endOffset":46291,"count":0},{"startOffset":46297,"endOffset":46330,"count":12},{"startOffset":46330,"endOffset":46367,"count":0},{"startOffset":46369,"endOffset":46689,"count":0},{"startOffset":46689,"endOffset":46805,"count":12},{"startOffset":46805,"endOffset":46864,"count":1},{"startOffset":47778,"endOffset":47954,"count":1},{"startOffset":47954,"endOffset":48003,"count":0},{"startOffset":48114,"endOffset":48158,"count":0},{"startOffset":52389,"endOffset":52547,"count":11}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":39809,"endOffset":39842,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39852,"endOffset":39912,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":39921,"endOffset":39956,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":40178,"endOffset":40206,"count":0}],"isBlockCoverage":false},{"functionName":"extractAnswersFromHistory","ranges":[{"startOffset":40301,"endOffset":42583,"count":12},{"startOffset":40630,"endOffset":42155,"count":0},{"startOffset":42243,"endOffset":42498,"count":60},{"startOffset":42275,"endOffset":42490,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":40561,"endOffset":40589,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":41424,"endOffset":41452,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":41629,"endOffset":41657,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":41762,"endOffset":41790,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":41905,"endOffset":41933,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":45457,"endOffset":45563,"count":0}],"isBlockCoverage":false},{"functionName":"start","ranges":[{"startOffset":48198,"endOffset":52376,"count":1},{"startOffset":48409,"endOffset":52019,"count":4},{"startOffset":48702,"endOffset":48720,"count":3},{"startOffset":48722,"endOffset":49209,"count":3},{"startOffset":48831,"endOffset":48930,"count":1},{"startOffset":49209,"endOffset":51815,"count":1},{"startOffset":49266,"endOffset":49283,"count":0},{"startOffset":49285,"endOffset":49419,"count":0},{"startOffset":49477,"endOffset":49516,"count":0},{"startOffset":49517,"endOffset":49553,"count":0},{"startOffset":49555,"endOffset":49717,"count":0},{"startOffset":50207,"endOffset":50211,"count":0},{"startOffset":50289,"endOffset":50293,"count":0},{"startOffset":50418,"endOffset":50422,"count":0},{"startOffset":50649,"endOffset":50653,"count":0},{"startOffset":50786,"endOffset":50792,"count":0},{"startOffset":51569,"endOffset":51756,"count":0},{"startOffset":51770,"endOffset":51815,"count":0},{"startOffset":52250,"endOffset":52368,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":52659,"endOffset":52696,"count":13}],"isBlockCoverage":true},{"functionName":"createErrorStream","ranges":[{"startOffset":52700,"endOffset":52959,"count":12}],"isBlockCoverage":true},{"functionName":"start","ranges":[{"startOffset":52777,"endOffset":52951,"count":12}],"isBlockCoverage":true},{"functionName":"getErrorResponse","ranges":[{"startOffset":52960,"endOffset":53179,"count":12}],"isBlockCoverage":true}]}]}