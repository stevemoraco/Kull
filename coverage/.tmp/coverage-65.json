{"result":[{"scriptId":"1088","url":"file:///home/user/Kull/client/src/setupTests.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":679,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":679,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1260","url":"file:///home/user/Kull/tests/integration/batch-processing.integration.test.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":58501,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":58501,"count":1},{"startOffset":17722,"endOffset":17738,"count":0},{"startOffset":17739,"endOffset":17752,"count":0},{"startOffset":17753,"endOffset":17764,"count":0},{"startOffset":17765,"endOffset":17776,"count":0},{"startOffset":17778,"endOffset":18755,"count":0},{"startOffset":18956,"endOffset":18961,"count":0},{"startOffset":19063,"endOffset":19068,"count":0},{"startOffset":19159,"endOffset":19164,"count":0},{"startOffset":19254,"endOffset":19259,"count":0},{"startOffset":19351,"endOffset":19356,"count":0}],"isBlockCoverage":true},{"functionName":"createTestImage","ranges":[{"startOffset":1279,"endOffset":1809,"count":31}],"isBlockCoverage":true},{"functionName":"createTestBatch","ranges":[{"startOffset":1835,"endOffset":1971,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1913,"endOffset":1964,"count":29}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2759,"endOffset":17704,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2839,"endOffset":5142,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2900,"endOffset":2972,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3064,"endOffset":3737,"count":1},{"startOffset":3267,"endOffset":3736,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3825,"endOffset":4112,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4200,"endOffset":5131,"count":1},{"startOffset":4401,"endOffset":5125,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4516,"endOffset":4553,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":5223,"endOffset":6316,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5284,"endOffset":5359,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5450,"endOffset":5932,"count":1},{"startOffset":5655,"endOffset":5931,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6020,"endOffset":6310,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6391,"endOffset":7460,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6452,"endOffset":6524,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6603,"endOffset":7079,"count":1},{"startOffset":6805,"endOffset":7078,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7167,"endOffset":7454,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7525,"endOffset":9070,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7621,"endOffset":9064,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8457,"endOffset":8914,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8952,"endOffset":9056,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9147,"endOffset":12088,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9251,"endOffset":10612,"count":1},{"startOffset":9644,"endOffset":10611,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9422,"endOffset":9486,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9594,"endOffset":9634,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9731,"endOffset":9762,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":9808,"endOffset":9838,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10103,"endOffset":10604,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":10716,"endOffset":12077,"count":1},{"startOffset":11109,"endOffset":12076,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10887,"endOffset":10951,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11059,"endOffset":11099,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11196,"endOffset":11227,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11273,"endOffset":11303,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":11568,"endOffset":12069,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":12155,"endOffset":16434,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12274,"endOffset":16423,"count":1},{"startOffset":12531,"endOffset":16422,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":16487,"endOffset":17700,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":16597,"endOffset":17689,"count":1},{"startOffset":16903,"endOffset":17688,"count":0}],"isBlockCoverage":true}]},{"scriptId":"1262","url":"file:///home/user/Kull/server/ai/providers/OpenAIAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":55753,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":55753,"count":1}],"isBlockCoverage":true},{"functionName":"OpenAIAdapter","ranges":[{"startOffset":567,"endOffset":913,"count":4}],"isBlockCoverage":true},{"functionName":"processSingleImage","ranges":[{"startOffset":916,"endOffset":1256,"count":2},{"startOffset":1102,"endOffset":1255,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1033,"endOffset":1100,"count":11}],"isBlockCoverage":true},{"functionName":"callOpenAIAPI","ranges":[{"startOffset":1259,"endOffset":7414,"count":11},{"startOffset":6084,"endOffset":6570,"count":0},{"startOffset":6590,"endOffset":6867,"count":0},{"startOffset":6913,"endOffset":6917,"count":0},{"startOffset":6968,"endOffset":6972,"count":0}],"isBlockCoverage":true},{"functionName":"submitBatch","ranges":[{"startOffset":7417,"endOffset":13485,"count":2},{"startOffset":12260,"endOffset":13484,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10525,"endOffset":11627,"count":13}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11673,"endOffset":11697,"count":13}],"isBlockCoverage":true},{"functionName":"checkBatchStatus","ranges":[{"startOffset":13488,"endOffset":14212,"count":0}],"isBlockCoverage":false},{"functionName":"retrieveBatchResults","ranges":[{"startOffset":14215,"endOffset":15914,"count":0}],"isBlockCoverage":false},{"functionName":"getCostPerImage","ranges":[{"startOffset":15917,"endOffset":16101,"count":3}],"isBlockCoverage":true},{"functionName":"getBatchCostPerImage","ranges":[{"startOffset":16176,"endOffset":16377,"count":2}],"isBlockCoverage":true},{"functionName":"calculateActualCost","ranges":[{"startOffset":16619,"endOffset":17041,"count":0}],"isBlockCoverage":false},{"functionName":"getProviderName","ranges":[{"startOffset":17044,"endOffset":17088,"count":11}],"isBlockCoverage":true},{"functionName":"supportsBatch","ranges":[{"startOffset":17091,"endOffset":17129,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":17233,"endOffset":17262,"count":4}],"isBlockCoverage":true}]},{"scriptId":"1263","url":"file:///home/user/Kull/server/config/environment.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":13656,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":13656,"count":1},{"startOffset":4324,"endOffset":4346,"count":0},{"startOffset":4348,"endOffset":4388,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":312,"endOffset":487,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":608,"endOffset":635,"count":0}],"isBlockCoverage":false},{"functionName":"loadEnvironmentConfig","ranges":[{"startOffset":639,"endOffset":2069,"count":1},{"startOffset":709,"endOffset":725,"count":0},{"startOffset":930,"endOffset":935,"count":0},{"startOffset":1209,"endOffset":1214,"count":0},{"startOffset":1378,"endOffset":1383,"count":0},{"startOffset":1518,"endOffset":1523,"count":0}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":2179,"endOffset":2216,"count":0}],"isBlockCoverage":false},{"functionName":"getClientBaseURL","ranges":[{"startOffset":2220,"endOffset":2563,"count":1},{"startOffset":2274,"endOffset":2405,"count":0},{"startOffset":2410,"endOffset":2482,"count":0},{"startOffset":2487,"endOffset":2557,"count":0}],"isBlockCoverage":true},{"functionName":"getClientWSURL","ranges":[{"startOffset":2564,"endOffset":2897,"count":1},{"startOffset":2616,"endOffset":2743,"count":0},{"startOffset":2748,"endOffset":2818,"count":0},{"startOffset":2823,"endOffset":2891,"count":0}],"isBlockCoverage":true},{"functionName":"validateEnvironmentConfig","ranges":[{"startOffset":2898,"endOffset":3969,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4083,"endOffset":4124,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":4262,"endOffset":4284,"count":20}],"isBlockCoverage":true}]},{"scriptId":"1268","url":"file:///home/user/Kull/server/ai/BaseProviderAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":29667,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":29667,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":441,"endOffset":477,"count":0}],"isBlockCoverage":false},{"functionName":"retryWithBackoff","ranges":[{"startOffset":620,"endOffset":1814,"count":8},{"startOffset":804,"endOffset":1810,"count":56},{"startOffset":993,"endOffset":1164,"count":0},{"startOffset":1207,"endOffset":1365,"count":0},{"startOffset":1399,"endOffset":1418,"count":0},{"startOffset":1420,"endOffset":1477,"count":0},{"startOffset":1671,"endOffset":1679,"count":0},{"startOffset":1730,"endOffset":1804,"count":48}],"isBlockCoverage":true},{"functionName":"sleep","ranges":[{"startOffset":1860,"endOffset":1937,"count":56}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1895,"endOffset":1931,"count":56}],"isBlockCoverage":true},{"functionName":"imageToBase64","ranges":[{"startOffset":1998,"endOffset":2066,"count":79}],"isBlockCoverage":true},{"functionName":"getMimeType","ranges":[{"startOffset":2117,"endOffset":2328,"count":79},{"startOffset":2308,"endOffset":2323,"count":0}],"isBlockCoverage":true},{"functionName":"calculateUserCharge","ranges":[{"startOffset":2389,"endOffset":2463,"count":0}],"isBlockCoverage":false},{"functionName":"validateRating","ranges":[{"startOffset":2518,"endOffset":5415,"count":0}],"isBlockCoverage":false},{"functionName":"clampStarRating","ranges":[{"startOffset":5418,"endOffset":5618,"count":0}],"isBlockCoverage":false},{"functionName":"validateColorLabel","ranges":[{"startOffset":5621,"endOffset":5775,"count":0}],"isBlockCoverage":false},{"functionName":"validateKeepReject","ranges":[{"startOffset":5778,"endOffset":6048,"count":0}],"isBlockCoverage":false},{"functionName":"clamp01","ranges":[{"startOffset":6051,"endOffset":6176,"count":0}],"isBlockCoverage":false},{"functionName":"clamp1to1000","ranges":[{"startOffset":6179,"endOffset":6323,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":6433,"endOffset":6468,"count":5}],"isBlockCoverage":true}]},{"scriptId":"1269","url":"file:///home/user/Kull/server/ai/providers/AnthropicAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":39912,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":39912,"count":1}],"isBlockCoverage":true},{"functionName":"AnthropicAdapter","ranges":[{"startOffset":583,"endOffset":992,"count":2}],"isBlockCoverage":true},{"functionName":"processSingleImage","ranges":[{"startOffset":995,"endOffset":1338,"count":0}],"isBlockCoverage":false},{"functionName":"callAnthropicAPI","ranges":[{"startOffset":1341,"endOffset":7820,"count":0}],"isBlockCoverage":false},{"functionName":"submitBatch","ranges":[{"startOffset":7823,"endOffset":9259,"count":1},{"startOffset":8950,"endOffset":9258,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7892,"endOffset":8561,"count":5}],"isBlockCoverage":true},{"functionName":"checkBatchStatus","ranges":[{"startOffset":9262,"endOffset":10123,"count":0}],"isBlockCoverage":false},{"functionName":"retrieveBatchResults","ranges":[{"startOffset":10126,"endOffset":11332,"count":0}],"isBlockCoverage":false},{"functionName":"getCostPerImage","ranges":[{"startOffset":11335,"endOffset":11587,"count":2}],"isBlockCoverage":true},{"functionName":"getBatchCostPerImage","ranges":[{"startOffset":11590,"endOffset":11859,"count":2}],"isBlockCoverage":true},{"functionName":"getProviderName","ranges":[{"startOffset":11862,"endOffset":11909,"count":0}],"isBlockCoverage":false},{"functionName":"supportsBatch","ranges":[{"startOffset":11912,"endOffset":11950,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":12057,"endOffset":12089,"count":2}],"isBlockCoverage":true}]},{"scriptId":"1270","url":"file:///home/user/Kull/server/ai/providers/GoogleAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":49184,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":49184,"count":1}],"isBlockCoverage":true},{"functionName":"GoogleAdapter","ranges":[{"startOffset":567,"endOffset":840,"count":2}],"isBlockCoverage":true},{"functionName":"processSingleImage","ranges":[{"startOffset":843,"endOffset":1183,"count":0}],"isBlockCoverage":false},{"functionName":"callGeminiAPI","ranges":[{"startOffset":1186,"endOffset":3741,"count":0}],"isBlockCoverage":false},{"functionName":"submitBatch","ranges":[{"startOffset":3744,"endOffset":6072,"count":1},{"startOffset":5296,"endOffset":5607,"count":0},{"startOffset":5609,"endOffset":6071,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3872,"endOffset":4869,"count":5}],"isBlockCoverage":true},{"functionName":"mapGoogleJobState","ranges":[{"startOffset":6136,"endOffset":6467,"count":0}],"isBlockCoverage":false},{"functionName":"checkBatchStatus","ranges":[{"startOffset":6470,"endOffset":7716,"count":0}],"isBlockCoverage":false},{"functionName":"retrieveBatchResults","ranges":[{"startOffset":7719,"endOffset":8423,"count":0}],"isBlockCoverage":false},{"functionName":"parseInlineResponses","ranges":[{"startOffset":8472,"endOffset":9504,"count":0}],"isBlockCoverage":false},{"functionName":"parseFileResponses","ranges":[{"startOffset":9557,"endOffset":11148,"count":0}],"isBlockCoverage":false},{"functionName":"getCostPerImage","ranges":[{"startOffset":11151,"endOffset":11336,"count":4}],"isBlockCoverage":true},{"functionName":"getBatchCostPerImage","ranges":[{"startOffset":11339,"endOffset":11408,"count":2}],"isBlockCoverage":true},{"functionName":"getProviderName","ranges":[{"startOffset":11411,"endOffset":11455,"count":0}],"isBlockCoverage":false},{"functionName":"supportsBatch","ranges":[{"startOffset":11458,"endOffset":11496,"count":0}],"isBlockCoverage":false},{"functionName":"getResponseSchema","ranges":[{"startOffset":11574,"endOffset":14496,"count":1}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":14600,"endOffset":14629,"count":2}],"isBlockCoverage":true}]},{"scriptId":"1271","url":"file:///home/user/Kull/server/ai/providers/GrokAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":24813,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":24813,"count":1}],"isBlockCoverage":true},{"functionName":"GrokAdapter","ranges":[{"startOffset":565,"endOffset":828,"count":1}],"isBlockCoverage":true},{"functionName":"processSingleImage","ranges":[{"startOffset":831,"endOffset":1169,"count":3},{"startOffset":1015,"endOffset":1168,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":948,"endOffset":1013,"count":24}],"isBlockCoverage":true},{"functionName":"callGrokAPI","ranges":[{"startOffset":1172,"endOffset":7007,"count":24},{"startOffset":5681,"endOffset":6165,"count":0},{"startOffset":6185,"endOffset":6460,"count":0},{"startOffset":6506,"endOffset":6510,"count":0},{"startOffset":6561,"endOffset":6565,"count":0}],"isBlockCoverage":true},{"functionName":"submitBatch","ranges":[{"startOffset":7010,"endOffset":7139,"count":0}],"isBlockCoverage":false},{"functionName":"checkBatchStatus","ranges":[{"startOffset":7142,"endOffset":7233,"count":0}],"isBlockCoverage":false},{"functionName":"retrieveBatchResults","ranges":[{"startOffset":7236,"endOffset":7331,"count":0}],"isBlockCoverage":false},{"functionName":"getCostPerImage","ranges":[{"startOffset":7334,"endOffset":7518,"count":0}],"isBlockCoverage":false},{"functionName":"getProviderName","ranges":[{"startOffset":7521,"endOffset":7567,"count":24}],"isBlockCoverage":true},{"functionName":"supportsBatch","ranges":[{"startOffset":7570,"endOffset":7609,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":7711,"endOffset":7738,"count":1}],"isBlockCoverage":true}]},{"scriptId":"1272","url":"file:///home/user/Kull/server/ai/providers/GroqAdapter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":25051,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":25051,"count":1}],"isBlockCoverage":true},{"functionName":"GroqAdapter","ranges":[{"startOffset":565,"endOffset":906,"count":1}],"isBlockCoverage":true},{"functionName":"processSingleImage","ranges":[{"startOffset":909,"endOffset":1247,"count":3},{"startOffset":1093,"endOffset":1246,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1026,"endOffset":1091,"count":21}],"isBlockCoverage":true},{"functionName":"callGroqAPI","ranges":[{"startOffset":1250,"endOffset":7109,"count":21},{"startOffset":5783,"endOffset":6267,"count":0},{"startOffset":6287,"endOffset":6562,"count":0},{"startOffset":6608,"endOffset":6612,"count":0},{"startOffset":6663,"endOffset":6667,"count":0}],"isBlockCoverage":true},{"functionName":"submitBatch","ranges":[{"startOffset":7112,"endOffset":7241,"count":0}],"isBlockCoverage":false},{"functionName":"checkBatchStatus","ranges":[{"startOffset":7244,"endOffset":7335,"count":0}],"isBlockCoverage":false},{"functionName":"retrieveBatchResults","ranges":[{"startOffset":7338,"endOffset":7433,"count":0}],"isBlockCoverage":false},{"functionName":"getCostPerImage","ranges":[{"startOffset":7436,"endOffset":7620,"count":0}],"isBlockCoverage":false},{"functionName":"getProviderName","ranges":[{"startOffset":7623,"endOffset":7665,"count":21}],"isBlockCoverage":true},{"functionName":"supportsBatch","ranges":[{"startOffset":7668,"endOffset":7707,"count":0}],"isBlockCoverage":false},{"functionName":"get","ranges":[{"startOffset":7809,"endOffset":7836,"count":1}],"isBlockCoverage":true}]}]}